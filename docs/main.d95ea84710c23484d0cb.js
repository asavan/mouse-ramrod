!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function o(){}function r(e){let t=0,n=!0;const o=t=>t>=0&&t<e,r=function(){let e=2;const r=[-1,1];let s=-1;return{getPos:()=>e,tryMove:t=>!!n&&(!!(Math.abs(e-t)<=1&&o(t))&&(e=t,n=!0,!0)),move:function(){if(!n)return;const i=[];let c=0;for(const t of r)o(e+t)&&i.push(c),++c;var a;c=i[(a=i.length,Math.floor(Math.random()*a))],s=c,e+=r[c],++t,n=!1}}}();let s=-1;return{size:e,mouse:r,isWin:()=>r.getPos()===s&&n,tryMoveToIndex:e=>!n&&(!!o(e)&&(s=e,n=!0,!0)),getMoveCount:()=>t,isRamrodPos:e=>e===s,isMousePos:e=>e===r.getPos()}}function s(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function i(e,t,n,o){const r=e.location.search,i=new URLSearchParams(r);for(const[e,t]of i)"number"==typeof n[e]?n[e]=parseInt(t,10):"boolean"==typeof n[e]?n[e]=s(t):n[e]=t;o(e,t,n)}!function(e,t,n,o){!function(e,t,n,o,r){"loading"!==n.readyState?e(t,n,o,r):n.addEventListener("DOMContentLoaded",(function(s){e(t,n,o,r)}))}(i,e,t,n,o)}(window,document,{mouse:1,size:5,sound:!1},(function(e,t,n){const s=t.getElementsByClassName("box")[0],i=(t.querySelector(".message"),t.getElementsByClassName("overlay")[0]),c=t.getElementsByClassName("close")[0],a=t.getElementById("tada");t.documentElement.style.setProperty("--field-size",n.size);const u={playerMove:o,enemyMove:o,meMove:o,aiMove:o,aiHint:o,gameover:o},l=r(n.size);function f(){var e,t;!function(e,t,n,o){const r=["&#128045;","&#128001;","&#128431;","&#128432;","&#128433;"];for(let n=0;n<e.size;n++){const s=t.childNodes[n];if(s.className="cell",e.isRamrodPos(n))s.innerHTML="<span>&#128296;</span>",s.classList.add("flip");else if(e.isMousePos(n)){if(o.mouse){const e=r[parseInt(o.mouse,10)-1];e&&(s.innerHTML=`<span>${e}</span>`)}}else s.innerHTML=""}}(l,s,0,n),l.isWin()&&(i.querySelector(".content").textContent="За  "+(e=l.getMoveCount())+" "+function(e,t){return t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}(e,["ход","хода","ходов"]),i.classList.add("show"),u.gameover(l.getMoveCount()),n.sound&&(t=a)&&t.play())}function d(){setTimeout((function(){l.mouse.move(),f()}),200)}return function(e,n,o){for(let r=0;r<e;r++){const e=t.createElement("div");e.className=n,o.appendChild(e)}}(l.size,"cell",s),f(),d(),s.addEventListener("click",(function(e){const t=function(e,t){if(e.preventDefault(),e.target.classList.contains("cell")||e.target.classList.contains("digit"))return function(e,t){const n=e.target||e.srcElement;for(let e=0;e<t.children.length;e++)if(t.children[e]===n)return e;return-1}(e,t)}(e,s);l.tryMoveToIndex(t)&&(f(),l.isWin()||d())}),!1),c.addEventListener("click",(function(e){e.preventDefault(),i.classList.remove("show")}),!1),{on:function(e,t){u[e]=t}}}))}]);