!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function o(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function r(e,t,n,r){const s=e.location.search,i=new URLSearchParams(s);for(const[e,t]of i)"number"==typeof n[e]?n[e]=parseInt(t,10):"boolean"==typeof n[e]?n[e]=o(t):n[e]=t;"serviceWorker"in navigator&&(navigator.serviceWorker.register("./sw.js",{scope:"./"}),function(e,t,n){const o=t.getElementById("butInstall");let r;o.addEventListener("click",e=>{o.classList.add("hidden"),r.prompt(),r.userChoice.then(e=>{})}),e.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),r=e,n&&n.showInstall&&o.classList.remove("hidden")})}(e,t,n)),r(e,t,n)}function s(e,t){return e+" "+function(e,t){return t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}(e,t)}function i(e){let t=[];for(let n=0;n<e;++n)t.push(n);let n=[];const o=(t,n)=>{var o;(o=n)>=0&&o<e&&(t.includes(n)||t.push(n))};return{hit:e=>{n.push(e);const r=t.filter(t=>t!==e),s=[];for(const e of r)o(s,e-1),o(s,e+1);return t=s,0===t.length},getPositions:()=>t}}function c(e){const t=t=>t>=0&&t<e;let n=e-1,o=[Math.floor((e-1)/2),Math.floor((e-1)/2)+1];const r=(e,n)=>{t(n)&&e.push(n)},s=n=>t(n)?(t=>0===t||t===e)(n)?1:2:0;return{getPrevPos:()=>n,hit:function(e){const i=o.filter(n=>n!==e&&t(n));let c=0,u=-1;for(const e of i){const t=s(e-1)+s(e+1);c<t&&(c=t,u=e)}return o=[],0===c||(n=u,r(o,n+1),r(o,n-1),!1)},isWin:()=>0===o.length}}function u(e,t){let n=0,o=!1,r=-1,s=!1,u=!1;const l=c(e),a=i(e);return{size:e,isWin:()=>s,tryMoveToIndex:t=>{return!o&&((n=t)>=0&&n<e&&(r=t,o=!0,!0));var n},getMoveCount:()=>n,isRamrodPos:e=>e===r,isMousePos:e=>!s&&u&&e===l.getPrevPos(),setShowMousePos:e=>{u=e,o=!1,r=-1},mouseMove:()=>{o&&(++n,t?s=a.hit(r):(s=l.hit(r),u=!0))}}}function l(){}!function(e,t,n,o){!function(e,t,n,o,r){"loading"!==n.readyState?e(t,n,o,r):n.addEventListener("DOMContentLoaded",(function(s){e(t,n,o,r)}))}(r,e,t,n,o)}(window,document,{mouse:0,size:5,sound:!1},(function(e,t,n){const o=t.querySelector(".box"),r=t.querySelector(".message"),i=t.querySelector(".overlay"),c=t.querySelector(".close"),a=t.getElementById("tada");t.documentElement.style.setProperty("--field-size",n.size);const f={gameover:l},d=u(n.size,0===n.mouse);function p(){var e;!function(e,t,n,o){const r=["&#128045;","&#128001;","&#128431;","&#128432;","&#128433;"];for(let n=0;n<e.size;n++){const s=t.childNodes[n];if(s.className="cell",e.isRamrodPos(n))e.isWin()?s.innerHTML="<span>&#128165;</span>":s.innerHTML="<span>&#128296;</span>";else if(e.isMousePos(n)){if(o.mouse){const e=r[o.mouse-1];e&&(s.innerHTML=`<span>${e}</span>`)}}else s.innerHTML=""}n&&e.getMoveCount()&&(n.textContent=s(e.getMoveCount(),["ход","хода","ходов"]))}(d,o,r,n),d.isWin()&&(i.querySelector(".content").textContent="За  "+s(d.getMoveCount(),["ход","хода","ходов"]),i.classList.add("show"),f.gameover(d.getMoveCount()),n.sound&&(e=a)&&e.play())}return function(e,t,n,o){for(let r=0;r<e;r++){const e=o.createElement("div");e.className=t,n.appendChild(e)}}(d.size,"cell",o,t),p(),o.addEventListener("click",(function(e){const t=function(e,t){if(e.preventDefault(),e.target.classList.contains("cell")||e.target.classList.contains("digit"))return function(e,t){const n=e.target||e.srcElement;for(let e=0;e<t.children.length;e++)if(t.children[e]===n)return e;return-1}(e,t)}(e,o);d.tryMoveToIndex(t)&&(p(),d.isWin()||setTimeout((function(){d.mouseMove(),p(),d.isWin()||setTimeout(()=>{d.setShowMousePos(!1),p()},200)}),200))}),!1),c.addEventListener("click",(function(e){e.preventDefault(),i.classList.remove("show")}),!1),{on:function(e,t){f[e]=t}}}))}]);